/*%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%                                                                        %%%%
%%%%           BME 390: Phrenic Nerve Stimulation: Implant Program          %%%%
%%%%                                 main.c                                 %%%%
%%%%                                                                        %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%	
********************************************************************************
*	Author:		Alexey Revinski
*	Last Revised:	__/__/2016
*******************************************************************************/

#include "stm8l15x_conf.h"

/*******************************************************************************
*  GLOBAL FLAGS
*******************************************************************************/
/*******************************************************************************
*  OTHER GLOBAL VARIABLES
*******************************************************************************/
int      pulse_counter     = RESET;

/*******************************************************************************
*  MAIN FUNCTION
*******************************************************************************/
void main(void)
{
  Switch_To_HSI();
  CLK_PeripheralClockConfig(CLK_Peripheral_TIM2,ENABLE);
  GPIO_Config();
  TIM2_Config();
  RTC_Config();
  enableInterrupts();
  
  while(1)
  {
    wfi();
  }
}
/*******************************************************************************
**********************************   END   *************************************
*******************************************************************************/